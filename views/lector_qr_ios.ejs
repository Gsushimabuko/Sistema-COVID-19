<!DOCTYPE html>
<html>
      <head>
        <title>Control de Entrada Casos Covid</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" type="text/css" href="/estilos/general.css">  
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://rawgit.com/schmich/instascan-builds/master/instascan.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.css">
        <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.js"></script>
        <link rel="stylesheet" type="text/css" href="/estilos/header.css">

         <!--ALERTIFY-->
      <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/alertify.min.css"/>
      </head>
    <body class="container">

        <%- include('menu') %>

        <form method="post" id="form1"  action="/probandopromesas" >

          <input type="hidden"  id="puerta" name="puerta" value="<%=puerta%>">
          <input type="hidden"  id="dni" name="dni">
          <input type="hidden"  id="entradasalida" name="entradasalida">
          
        </form>

        <div class="header1" id="bajar">
       
          <h2><b>
           ESCANEAR QR
          </b></h2>

      </a> 
   </div>
        
        <div class="row mb-2">
          <div class="qrscanner" id="scanner">
          </div>

        </div>


          <script type="text/javascript">
            function onQRCodeScanned(scannedText)
            {
              const input = document.getElementById("dni")
              input.value = scannedText;
              EscanearAjax()
            }
          
            //this function will be called when JsQRScanner is ready to use
            function JsQRScannerReady()
            {
                //create a new scanner passing to it a callback function that will be invoked when
                //the scanner succesfully scan a QR code
                var jbScanner = new JsQRScanner(onQRCodeScanned);
                //reduce the size of analyzed images to increase performance on mobile devices
                jbScanner.setSnapImageMaxSize(300);
              var scannerParentElement = document.getElementById("scanner");
              if(scannerParentElement)
              {
                  //append the jbScanner to an existing DOM element
                jbScanner.appendTo(scannerParentElement);
              }        
            }
          </script> 

<%- include('verificador_por_nombre_dni') %>
        
              
          <%- include('footer') %>

          <!-- Sweet Alert -->
        <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

          <script src="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/alertify.min.js"></script>

        <script type="text/javascript" src="/js/jsqrscanner.nocache.js"></script>
        <script type="text/javascript" src="/js/filtrado_busqueda.js"></script>
        <script type="text/javascript" src="/js/ajax.js"></script>
    </body>
</html>